<!DOCTYPE html>
<html lang="pt-br">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<link rel="stylesheet" href="./styles/version2.css" />
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="./scripts/jquery.rwdImageMaps.min.js"></script>
	<title>Difle Barrocão - Gincana 2020</title>
	<script>
		$(document).ready(function(){
			function r() {
				var item = document.createElement("LI");
				var a = document.createElement("a");
				a.setAttribute("href", "https://www.youtube.com/?hl=pt&gl=BR")
				a.setAttribute("target", "_blank")
				var textItem = document.createTextNode("Water");
				a.appendChild(textItem);
				item.appendChild(a);
				document.getElementById("myList").appendChild(item);
			}
			

			function focusOn(questionNumber) {
				console.log("question-" + questionNumber);
				var question = document.getElementById("question-" + questionNumber);
				question.childNodes[1].focus();
				question.childNodes[1].scrollIntoView();
			}

			$(".option").on("click", function(e) {
				e.preventDefault();

				focusOn(e.target.id);
			});
		});
	</script>
</head>

<body>
	<header>
		<h1>Gincana Diflen 2020</h1>
		<p> Clique nas figuras da imagem para ser direcionado à sua dica </p>
	</header>
	<div id="main">
		<div id="div-image">
			<img id="image" src="imagens/image.png" usemap="#imageMap"/>
			<map id="map-image" name="imageMap">
				<area id="1" class="option" shape="rect" coords="45,50,139,65"  href="" >
				<area id="2" class="option" shape="rect" coords="56,238,131,253" href="" >
				<area id="3" class="option" shape="rect" coords="390,49,503,96" href="" >
				<area id="4" class="option" shape="rect" coords="401,234,499,252" href="">
			</map>
		</div>
		<div id="iframe-questions">
			<div class="div-info">
				<p class="p-form">Responda com as referências bíblicas, de acordo com as dicas abaixo:</p>
				<p class="p-form">Siga exatamente esse modelo de resposta: João 3:16</p>
			</div>
			<div id="nome=equipe" class="form">
				<input class="question" name="response" autocomplete="off" type="text" required />
				<label for="name" class="label-response">
					<span class="content-response">Nome da Equipe: </span>
				</label>
			</div>
			<div id="nome" class="form">
				<input class="question" name="response" autocomplete="off" type="text" required />
				<label for="name" class="label-response">
					<span class="content-response">Nome do Participante: </span>
				</label>
			</div>
			<div id="question-1" class="form">
				<input class="question" name="response" autocomplete="off" type="text" required />
				<label for="name" class="label-response">
					<span class="content-response">Seu versículo na primeira fase: </span>
				</label>
			</div>
			<div id="question-2" class="form">
				<input class="question" name="response" autocomplete="off" type="text" required />
				<label for="name" class="label-response">
					<span class="content-response">Cantarei Para Sempre ... </span>
				</label>
			</div>
			<div id="question-3" class="form">
				<input id="last-input" class="question" name="response" autocomplete="off" type="text" required />
				<label for="name" class="label-response">
					<span class="content-response">Sobre ele você pregou</span>
				</label>
			</div>
			<div id="question-4" class="form">
				<input class="question" name="response" autocomplete="off" type="text" required />
				<label for="name" class="label-response">
					<span class="content-response">Nossa grande missão</span>
				</label>
			</div>
			<input id="button" class="fixed" value="enviar" type="submit" onclick="verifyResponse()">

			<script>
				function verifyResponse() {
					var responses = "Equipe : ";
					let form = document.getElementById("iframe-questions");
					var count = 0;
					var isComplete = false;
					form.childNodes.forEach(function(item, i) {
						if (i != 0 && i != 1 && (i % 2 != 0) && i < 14) {
							console.log(item)
							console.log(item.childNodes[1].value)
							if (!item.childNodes[1].value == "") {
								responses = (responses + item.childNodes[1].value + "  ");
								
								if (count == 0) {
									responses = (responses + "|  Nome do Participante: ")
								} else {
									if (count < 5) {
										responses = (responses + "|  Resposta da Pergunta " + count + "=>  ")
									}
								}
								count++;
							}
						}
					})
					isComplete = count >= 6;
					console.log("count: " + count);
					if (isComplete) {
						console.log("<p>" + responses + "</p>");
						alert("Click em ok para enviar a sua resposta por email para a administração");
						window.open('mailto:diflenbarrocaochurch@gmail.com?subject=Resposta Da Gincana&body=' + responses);
					} else {
						alert("Preencha todos os campos para finalizar");
					}
				}
			</script>
		</div>
	</div>
	<script>$('img[usemap]').rwdImageMaps();</script>
</body>
</html>